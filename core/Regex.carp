(system-include "carp_regex.h")

(defmodule Regex
  (register find (Fn [&Regex &String] Int))
  (register match (Fn [&Regex &String] (Array String)))
  (register match-str (Fn [&Regex &String] String))
  (register global-match (Fn [&Regex &String] (Array (Array String))))
  (register substitute (Fn [&Regex &String &String Int] String))
  (defn matches? [pat s] (/= (find pat s) -1))
)
