(load "Debug.carp")
(project-set! "printAST" "true")
(Debug.sanitize-addresses)

(def s "I'm a global string...")

(deftype A [x Int])
(def a (A.init 666))

;;(Debug.log-memory-balance! true)

(defn main []
  (Debug.assert-balanced
   (do
     ;;(IO.println s)
     (IO.println &(A.str &a))
     ;;(set! &a (A.init 123))
     ;;(IO.println &(A.str &a))
     )))

;; (defn f [x]
;;   (do
;;     (IO.println &(Int.str x))
;;     @gs))
